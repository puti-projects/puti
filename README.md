<p align="center">
    <img src="assets/logo.png" alt="Puti Logo" width="150" height="150">
</p>
<h1 align="center">Puti</h1>
<p align="center">
    <em>:black_nib: Puti is a full-featured writing system written in Golang.</em>
</p>

<p align="center">
    <a href="https://github.com/puti-projects/puti/actions?query=workflow%3Abuild">
        <img src="https://github.com/puti-projects/puti/workflows/build/badge.svg" alt="Github Actions">
    </a>
    <a href="https://codecov.io/gh/puti-projects/puti">
        <img src="https://codecov.io/gh/puti-projects/puti/branch/master/graph/badge.svg" />
    </a>
    <a href="https://goreportcard.com/report/github.com/puti-projects/puti">
        <img src="https://goreportcard.com/badge/github.com/puti-projects/puti" alt="Go Report Card">
    </a>
    <a href="https://github.com/puti-projects/puti/releases">
        <img src="https://img.shields.io/github/release/puti-projects/puti.svg?style=flat" alt="Release">
    </a>
    <a href="https://github.com/puti-projects/puti/blob/master/LICENSE">
        <img src="https://img.shields.io/badge/License-GPLv3.0-important.svg?style=flat" alt="license" />
    </a>
</p>
<p align="center">
ä¸­æ–‡
 | <a href="https://github.com/puti-projects/puti/blob/master/README_EN.md">Engilsh</a>
</p>

## çŠ¶æ€

Puti é¡¹ç›®ç°åœ¨ä»åœ¨å¼€å‘ä¸­ï¼Œç›®æ ‡æ˜¯é¢å‘æå®¢çš„ä¸‹ä¸€ä»£å†™ä½œç³»ç»Ÿã€‚

ç›®å‰åœ¨æ¢ç©¶å¦‚ä½•åœ¨åå°ç®¡ç†ä¸­å¼•å…¥ Wasmï¼Œæé«˜æ€§èƒ½å’Œå¼€å‘æ•ˆç‡ï¼ˆç»Ÿä¸€æŠ€æœ¯æ ˆï¼‰ã€‚

## ç¯å¢ƒä¾èµ–

- Golang 1.13+ (Build using modules)
- MySQL
  
æœ¬é¡¹ç›®ä½¿ç”¨äº† Go Modulesï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨ Go 1.13 ä»¥ä¸Šç‰ˆæœ¬ï¼›é¡¹ç›®ä¸ä¾èµ– Nginx ä¹‹ç±»çš„ Web Serverï¼Œä½†æ˜¯ä½ å¯ä»¥é…ç½®å¹¶ä¸”ä½¿ç”¨ Nginxã€‚

## åŠŸèƒ½ä¸è®¡åˆ’

é¡¹ç›®è®¡åˆ’å®ç°ä»¥åŠå·²ç»å®ç°çš„åŠŸèƒ½å¦‚ä¸‹ï¼š

* [ ] åŠŸèƒ½
  * [x] ç”¨æˆ·
  * [ ] ç™»å½•æ³¨å†Œ
    * [x] ç™»å½•
    * [ ] æ³¨å†Œ
    * [ ] ç¬¬ä¸‰æ–¹æ¥å…¥ï¼ˆgithubç­‰ï¼‰
  * [x] åšæ–‡ç³»ç»Ÿ
    * [x] æ–‡ç« 
    * [x] é¡µé¢
    * [x] åˆ†ç±»
    * [x] æ ‡ç­¾
    * [x] ä¸“é¢˜
  * [x] çŸ¥è¯†åº“ç³»ç»Ÿ
    * [x] ç¬”è®°æœ¬
    * [x] æ–‡æ¡£é›†
  * [x] åª’ä½“
  * [ ] é“¾æ¥
  * [ ] è¯„è®º
  * [ ] è®¾ç½®
    * [x] æ™®é€šè®¾ç½®
    * [ ] ç¬¬ä¸‰æ–¹è®¾ç½®ï¼ˆæ¥å…¥GItHubï¼ŒWeChatç­‰ï¼‰
  * [ ] ä¸»é¢˜
    * [X] ä¸»é¢˜æ”¯æŒ
    * [X] é»˜è®¤ä¸»é¢˜ï¼ˆEmmaï¼‰
    * [X] è‡ªç”±åˆ‡æ¢ 
    * [ ] ç®¡ç†ç•Œé¢ç›´æ¥ä¿®æ”¹ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶
  * [ ] é‚®ä»¶
    * [ ] é‚®ä»¶é…ç½®
    * [ ] é‚®ä»¶å‘é€
* [ ] æŠ€æœ¯æ”¯æŒ 
  * [ ] å®Œå–„çš„ i18n 
  * [ ] é‚®ä»¶æœåŠ¡é…ç½®
  * [ ] TOC (ç›®å‰åœ¨å‰ç«¯ä¸»é¢˜å®ç°)
  * [ ] é…ç½®å›¾ç‰‡è£åˆ‡
  * [X] HTTPSï¼ˆæ”¯æŒè‡ªåŠ¨ HTTPSï¼‰
  * [x] WebServer è½¬å‘
  * [ ] å¤´åƒæ¥å…¥
  * [ ] OAuth 
  * [ ] åª’ä½“æ–‡ä»¶äº‘å­˜å‚¨
* [ ] ç”Ÿæ€
  * [x] Docker é•œåƒæ”¯æŒ
  * [x] é…ç½®åŒ–çš„è‡ªåŠ¨éƒ¨ç½²è„šæœ¬  
  * [ ] ç®€å•çš„ç»Ÿè®¡ç³»ç»Ÿ

## æˆªå›¾

![screenshot_1](./docs/images/screenshot_one.png)
![screenshot_2](./docs/images/screenshot_two.png)
![screenshot_3](./docs/images/screenshot_three.png)

## å¿«é€Ÿå¼€å§‹

### é…ç½®

Puti çš„é…ç½®æ–‡ä»¶ä½äº `configs` ä¸‹çš„ `config.yaml`ï¼Œåˆæ¬¡ä½¿ç”¨å¯ä»¥ä» `config.yaml.example` åˆå§‹åŒ–é…ç½®æ–‡ä»¶ã€‚  
éœ€è¦æ³¨æ„çš„é…ç½®ï¼š

| é…ç½® | è¯´æ˜ |
| :----- | :----- | 
| server.http_port |  HTTP ç«¯å£ |
| server.https_open |  æ˜¯å¦å¼€å¯ HTTPS  |
| server.auto_cert |  æ˜¯å¦å¼€å¯è‡ªåŠ¨ HTTPS  |
| server.https_port |  HTTPS ç«¯å£  |
| server.tls_cert | å¦‚æœä¸æ˜¯è‡ªåŠ¨ HTTPSï¼Œé…ç½® SSL è¯ä¹¦è·¯å¾„   |
| server.tls_key |  å¦‚æœä¸æ˜¯è‡ªåŠ¨ HTTPSï¼Œé…ç½® SSL ç§é’¥è·¯å¾„  |
| safety.jwt_secret |  Json web token ç§˜é’¥ |
| db.name |  æ•°æ®åº“åç§°  |
| db.addr |  æ•°æ®åº“ HOST:PORT  |
| db.username |  æ•°æ®åº“ç™»å½•å  |
| db.password |  æ•°æ®åº“å¯†ç   |

### å®‰è£…

#### æºç å®‰è£…

é¡¹ç›®ä½¿ç”¨äº† Go Moduleï¼Œæ‰€ä»¥è¦æ±‚ Go 1.13 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚ç›®å‰ç§»é™¤äº† Vendor ç›®å½•ï¼Œå› ä¸ºç°åœ¨ `go proxy` å·²ç»èƒ½å¤Ÿå¾ˆå¥½åœ°è§£å†³æŸäº›é—®é¢˜äº†ã€‚

```sh
# ä¸‹è½½
$ go get -u github.com/puti-projects/puti

# ä½¿ç”¨Makefileæ¥æ„å»ºç¨‹åº
$ cd $GOPATH/src/github.com/puti-projects/puti
$ make
```

#### ä½¿ç”¨ Docker

##### ä½¿ç”¨ç°æˆçš„é•œåƒ

æˆ‘ä»¬å·²ç»æä¾›äº†ç°æˆçš„é•œåƒï¼Œå¯ä»¥ç›´æ¥æ‹‰å–ä½¿ç”¨ï¼š

```sh
# ä» Docker Hub æ‹‰å–é•œåƒ
$ docker pull puti/puti

# åˆ›å»ºéœ€è¦æŒ‚è½½çš„ç›®å½•ï¼Œä¾‹å¦‚ï¼š`/data/puti`ä¸ºåº”ç”¨æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œ`/data/logs/puti`ä¸ºæ—¥å¿—å­˜æ”¾ç›®å½•
$ mkdir -p /data/puti /data/logs/puti

# ç¬¬ä¸€æ¬¡é€šè¿‡`docker run`æ¥åˆ›å»ºä¸€ä¸ªå®¹å™¨
$ docker run --name=puti -p 80:8000 -p 443:8080 -v /data/puti:/data/puti -v /data/logs/puti:/data/logs/puti puti/puti

# ä½¿ç”¨ `docker stop``docker start`æ¥åœæ­¢ï¼Œå…³é—­å®¹å™¨ã€‚
$ docker stop puti
$ docker start puti
```

æ›´å¤šå†…å®¹æŸ¥çœ‹ï¼š[Docker use](./scripts/docker/README.md)

##### ä½¿ç”¨å¯é…ç½®çš„éƒ¨ç½²è„šæœ¬

æˆ‘ä»¬æä¾›äº†ç®€å•æ–¹ä¾¿åœ°ä¸€é”®éƒ¨ç½² Docker-compose è„šæœ¬æ–‡ä»¶ï¼Œæ‡’äººå¿…å¤‡ã€‚å…·ä½“ä½¿ç”¨æŸ¥çœ‹ï¼š[puti-projects/puti-environment](https://github.com/puti-projects/puti-environment)

### ä½¿ç”¨
åˆå§‹åŒ–å¤±è´¥ï¼Œå¯èƒ½æ˜¯æ•°æ®åº“é…ç½®çš„é—®é¢˜ï¼ˆç›®å‰æ²¡æœ‰å®‰è£…å¼•å¯¼ï¼‰ã€‚é»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªè´¦å· `admin` å¯†ç  `admin` çš„é»˜è®¤è´¦å·ï¼Œè¯·åˆ›å»ºè‡ªå·±çš„è´¦å·åç§»é™¤é»˜è®¤è´¦å·ã€‚åŠŸèƒ½å®Œå–„åä¼šè€ƒè™‘å®‰è£…å¼•å¯¼ã€‚

## ä¸»é¢˜

æ›´å¤šä¸»é¢˜åˆ¶ä½œä¸­ã€‚ç›®å‰æä¾›é»˜è®¤ä¸»é¢˜ Emma å’Œ Linï¼Œä¸ºä¸¤ç§ä¸åŒé£æ ¼çš„ä¸»é¢˜ã€‚

## æ–‡æ¡£

TODO

## æ›´æ–°æ—¥å¿—

Detailed changes for each release are documented in the [changelog file]((https://github.com/axetroy/vscode-gpm/blob/master/CHANGELOG.md)).

## ä¾èµ–

| ä¾èµ– | å…³äº |
| :----- | :----- |
| [gin-gonic/gin](https://github.com/gin-gonic/gin) |  HTTP web framework written in Go. |
| [go-gorm/gorm](https://github.com/go-gorm/gorm)  | The ORM library for Golang. |
| [allegro/bigcache](https://github.com/allegro/bigcache) | Efficient cache for gigabytes of data written in Go. |
| [spf13/viper](https://github.com/spf13/viper) |  Complete configuration solution. |
| [go.uber.org/zap](https://go.uber.org/zap) |  Fast, structured, leveled logging. |
| [vuejs/vue](https://github.com/vuejs/vue) | JavaScript framework for building UI on the web. |
| [ElemeFE/element](https://github.com/ElemeFE/element) | A Vue.js 2.0 UI Toolkit for Web.  |
| [PanJiaChen/vue-element-admin](https://github.com/PanJiaChen/vue-element-admin) | A front-end management background integration solution. |
| [hinesboy/mavonEditor](https://github.com/hinesboy/mavonEditor) (will be removed) | A markdown editor. |
| [Vanessa219/vditor](https://github.com/Vanessa219/vditor) | An in-browser markdown editor. |
| [88250/lute](https://github.com/88250/lute) | A structured Markdown engine that supports Go and JavaScript. |

## è¯´æ˜

### éƒ¨ç½²
å¯ä»¥ä¸ä½¿ç”¨ Nginx ä¹‹ç±»çš„ WebServerï¼Œä¸”æ”¯æŒè‡ªåŠ¨ HTTPSï¼›ç›®å‰ä¸åšé‡å®šå‘åˆ¤æ–­ï¼Œå¦‚æ ¹åŸŸååˆ° www åŸŸåï¼ŒHTTP åˆ° HTTPSï¼›è¾ƒå¥½çš„å®è·µæ˜¯å†åŠ ä¸€å±‚ WebServerã€‚


## è´¡çŒ®
<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
| [<img src="https://avatars3.githubusercontent.com/u/17734933?s=460&v=4" width="100px;"/><br /><sub>goozp</sub>](https://www.goozp.com)<br />[ğŸ’»](https://github.com/puti-projects/puti/commits?author=goozp "Code commitor")[ğŸ“š](https://github.com/dawnlabs/carbon/commits?author=briandennis "Documentation")[ğŸ¨](#design "Design") |
| :---: |

<!-- ALL-CONTRIBUTORS-LIST:END -->

## æ„Ÿè°¢
Thanks to JetBrains for providing free Goland IDE based on JetBrains OS licenses.

[![goland](./docs/images/icon-goland.svg)](https://www.jetbrains.com/?from=puti)

## License 

Puti is under the GPL-3.0 license. See the [LICENSE](https://github.com/puti-projects/puti/blob/master/LICENSE) file for details.
